(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(t,e,n){t.exports=n(61)},36:function(t,e,n){},37:function(t,e,n){},61:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(28),o=n.n(c),i=(n(36),n(2)),l=n(3),u=n(5),s=n(4),p=n(6),h=(n(37),n(13)),m=n(10),d=n(11),j=n.n(d),f="https://r1dep.herokuapp.com",b=new(function(){function t(){Object(i.a)(this,t)}return Object(l.a)(t,[{key:"getAllProjects",value:function(){return j.a.get("".concat(f,"/api/projects")).then(function(t){return t.data})}},{key:"getProjectById",value:function(t){return j.a.get("".concat(f,"/api/projects/").concat(t)).then(function(t){return t.data})}},{key:"addProject",value:function(t){return j.a.post("".concat(f,"/api/projects"),t).then(function(t){return t.data})}},{key:"updateProject",value:function(t,e){return j.a.put("".concat(f,"/api/projects/").concat(t),e).then(function(t){return t.data})}},{key:"deleteProject",value:function(t){return j.a.delete("".concat(f,"/api/projects/").concat(t)).then(function(t){return t.data})}}]),t}()),v=n(15),g=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(u.a)(this,Object(s.a)(e).call(this,t))).handleFormSubmit=function(t){t.preventDefault();var e=n.state,a=e.title,r=e.description;b.addProject({title:a,description:r}).then(function(){n.props.getData(),n.setState({title:"",description:""})}).catch(function(t){return console.log(t)})},n.handleChange=function(t){var e=t.target,a=e.name,r=e.value;n.setState(Object(v.a)({},a,r))},n.state={title:"",description:""},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Title:"),r.a.createElement("input",{type:"text",name:"title",value:this.state.title,onChange:function(e){return t.handleChange(e)}}),r.a.createElement("label",null,"Description:"),r.a.createElement("textarea",{name:"description",value:this.state.description,onChange:function(e){return t.handleChange(e)}}),r.a.createElement("input",{type:"submit",value:"Submit"})))}}]),e}(a.Component),E=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(t=Object(s.a)(e)).call.apply(t,[this].concat(r)))).state={listOfProjects:[]},n.getAllProjects=function(){b.getAllProjects().then(function(t){n.setState({listOfProjects:t})})},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.getAllProjects()}},{key:"render",value:function(){var t=this.state.listOfProjects;return r.a.createElement("div",null,"         ",r.a.createElement(g,{getData:this.getAllProjects}),r.a.createElement("div",null,t.map(function(t){return r.a.createElement("div",{key:t._id,className:"project"},r.a.createElement(m.b,{to:"/projects/".concat(t._id)},r.a.createElement("h3",null,t.title),r.a.createElement("p",null,t.description," ")))})))}}]),e}(a.Component),k=function(){return r.a.createElement("nav",{className:"nav-style"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(m.b,{to:"/projects"},"Projects"))))},O=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(u.a)(this,Object(s.a)(e).call(this,t))).handleFormSubmit=function(t){t.preventDefault();var e=n.state,a=e.title,r=e.description,c=n.props.theProject._id;b.updateProject(c,{title:a,description:r}).then(function(){n.props.history.push("/projects")}).catch(function(t){return console.log(t)})},n.handleChange=function(t){var e=t.target,a=e.name,r=e.value;n.setState(Object(v.a)({},a,r))},n.state={title:n.props.theProject.title,description:n.props.theProject.description},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Title:"),r.a.createElement("input",{type:"text",name:"title",value:this.state.title,onChange:this.handleChange}),r.a.createElement("label",null,"Description:"),r.a.createElement("textarea",{name:"description",value:this.state.description,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Submit"})))}}]),e}(a.Component),y=new(function(){function t(){Object(i.a)(this,t)}return Object(l.a)(t,[{key:"getTaskById",value:function(t,e){return j.a.get("".concat("https://r1dep.herokuapp.com","/api/projects/").concat(t,"/tasks/").concat(e)).then(function(t){return t.data})}},{key:"addTask",value:function(t){return j.a.post("".concat("https://r1dep.herokuapp.com","/api/tasks"),t).then(function(t){return t.data})}}]),t}()),S=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(u.a)(this,Object(s.a)(e).call(this,t))).handleFormSubmit=function(t){t.preventDefault();var e=n.state,a=e.title,r=e.description,c=n.props.projectID;y.addTask({title:a,description:r,projectID:c}).then(function(){n.props.getTheProject(),n.setState({title:"",description:""})}).catch(function(t){return console.log(t)})},n.toggleForm=function(){return n.setState({isShowing:!n.state.isShowing})},n.handleChange=function(t){var e=t.target,a=e.name,r=e.value;n.setState(Object(v.a)({},a,r))},n.state={title:"",description:"",isShowing:!1},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement("div",null,r.a.createElement("button",{onClick:this.toggleForm}," Add task "),this.state.isShowing?r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("input",{type:"text",placeholder:"Title",name:"title",value:this.state.title,onChange:function(e){return t.handleChange(e)}}),r.a.createElement("input",{name:"description",placeholder:"Description",value:this.state.description,onChange:function(e){return t.handleChange(e)}}),r.a.createElement("button",{onClick:this.handleFormSubmit},"Submit"))):null)}}]),e}(a.Component),P=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(u.a)(this,Object(s.a)(e).call(this,t))).renderEditForm=function(){return n.state.title||n.state.description?r.a.createElement(O,Object.assign({theProject:n.state,getTheProject:n.getSingleProject},n.props)):r.a.createElement("p",null,"LOADING")},n.renderAddTaskForm=function(){return n.state.title||n.state.description?r.a.createElement(S,{projectID:n.state._id,getTheProject:n.getSingleProject}):r.a.createElement("p",null,"LOADING")},n.deleteProject=function(){var t=n.props.match.params.id;b.deleteProject(t).then(function(){return n.props.history.push("/projects")}).catch(function(t){return console.log(t)})},n.getSingleProject=function(){var t=n.props.match.params.id;b.getProjectById(t).then(function(t){var e=t;n.setState(e)}).catch(function(t){return console.log(t)})},n.state={title:"",description:"",tasks:[]},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.getSingleProject()}},{key:"render",value:function(){var t=this;return r.a.createElement("div",null,r.a.createElement("h1",null,this.state.title),r.a.createElement("h4",null,this.state.description),r.a.createElement(m.b,{to:"/projects"},r.a.createElement("button",null,"Back")),this.renderEditForm(),"   ",r.a.createElement("button",{onClick:function(){return t.deleteProject()}},"Delete project"),this.renderAddTaskForm(),0===this.state.tasks.length?r.a.createElement("h2",null,"NO TASKS TO DISPLAY"):this.state.tasks.map(function(e){return r.a.createElement(m.b,{key:e._id,to:"/projects/".concat(t.state._id,"/tasks/").concat(e._id)},r.a.createElement("h2",{className:"task"},e.title))}))}}]),e}(a.Component),C=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(t=Object(s.a)(e)).call.apply(t,[this].concat(r)))).state={},n.getTheTask=function(){var t=n.props.match.params,e=t.id,a=t.taskId;y.getTaskById(e,a).then(function(t){n.setState(t)}).catch(function(t){return console.log(t)})},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.getTheTask()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"TASK DETAILS"),r.a.createElement("h2",null,this.state.title),r.a.createElement("p",null,this.state.description),r.a.createElement("button",{onClick:this.props.history.goBack},"Go Back"))}}]),e}(a.Component),w=function(t){function e(){return Object(i.a)(this,e),Object(u.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(k,null),r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/projects",component:E}),r.a.createElement(h.a,{exact:!0,path:"/projects/:id",component:P}),r.a.createElement(h.a,{exact:!0,path:"/projects/:id/tasks/:taskId",component:C})))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(m.a,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[31,1,2]]]);
//# sourceMappingURL=main.434ee490.chunk.js.map